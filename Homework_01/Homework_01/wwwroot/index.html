<!DOCTYPE html>
<html>
<head>
    <title>Users API Test</title>
</head>
<body>
    <h1>All Users</h1>
    <button onclick="getAllUsers()">Load Users</button>
    <ul id="usersList"></ul>

    <h1>Get One User</h1>
    <input type="number" id="userIndex" placeholder="Enter index" />
    <button onclick="getUser()">Get User</button>
    <p id="singleUser"></p>

    <script>
        const baseUrl = "https://localhost:44394/api/users"; // Promena zavisno koj localhost ti dava

        function getAllUsers() {
            fetch(baseUrl)
                .then(res => res.json())
                .then(data => {
                    const list = document.getElementById("usersList");
                    list.innerHTML = "";
                    data.forEach(user => {
                        const li = document.createElement("li");
                        li.textContent = user;
                        list.appendChild(li);
                    });
                });
        }

        function getUser() {
            const index = document.getElementById("userIndex").value;
            fetch(`${baseUrl}/${index}`)
                .then(res => {
                    if (!res.ok) throw new Error("User not found");
                    return res.json();
                })
                .then(user => {
                    document.getElementById("singleUser").textContent = user;
                })
                .catch(err => {
                    document.getElementById("singleUser").textContent = err.message;
                });
        }
    </script>
</body>
</html>